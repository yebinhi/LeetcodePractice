{"id":35669748,"question_id":224,"lang":"java","lang_name":"Java","time":"8 years, 8 months","timestamp":1439040580,"status":10,"status_display":"Accepted","runtime":"624 ms","url":"/submissions/detail/35669748/","is_pending":"Not Pending","title":"Basic Calculator","memory":"N/A","code":"public class Solution {\r\n    public int calculate(String s) {\r\n        // delte white spaces\r\n\ts = s.replaceAll(\" \", \"\");\r\n \r\n\tStack<String> stack = new Stack<String>();\r\n\tchar[] arr = s.toCharArray();\r\n \r\n\tStringBuilder sb = new StringBuilder();\r\n\tfor (int i = 0; i < arr.length; i++) {\r\n\t\tif (arr[i] == ' ')\r\n\t\t\tcontinue;\r\n \r\n\t\tif (arr[i] >= '0' && arr[i] <= '9') {\r\n\t\t\tsb.append(arr[i]);\r\n \r\n\t\t\tif (i == arr.length - 1) {\r\n\t\t\t\tstack.push(sb.toString());\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (sb.length() > 0) {\r\n\t\t\t\tstack.push(sb.toString());\r\n\t\t\t\tsb = new StringBuilder();\r\n\t\t\t}\r\n \r\n\t\t\tif (arr[i] != ')') {\r\n\t\t\t\tstack.push(new String(new char[] { arr[i] }));\r\n\t\t\t} else {\r\n\t\t\t\t// when meet ')', pop and calculate\r\n\t\t\t\tArrayList<String> t = new ArrayList<String>();\r\n\t\t\t\twhile (!stack.isEmpty()) {\r\n\t\t\t\t\tString top = stack.pop();\r\n\t\t\t\t\tif (top.equals(\"(\")) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tt.add(0, top);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n \r\n\t\t\t\tint temp = 0;\r\n\t\t\t\tif (t.size() == 1) {\r\n\t\t\t\t\ttemp = Integer.valueOf(t.get(0));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (int j = t.size() - 1; j > 0; j = j - 2) {\r\n\t\t\t\t\t\tif (t.get(j - 1).equals(\"-\")) {\r\n\t\t\t\t\t\t\ttemp += 0 - Integer.valueOf(t.get(j));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttemp += Integer.valueOf(t.get(j));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttemp += Integer.valueOf(t.get(0));\r\n\t\t\t\t}\r\n\t\t\t\tstack.push(String.valueOf(temp));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n \r\n\tArrayList<String> t = new ArrayList<String>();\r\n\twhile (!stack.isEmpty()) {\r\n\t\tString elem = stack.pop();\r\n\t\tt.add(0, elem);\r\n\t}\r\n \r\n\tint temp = 0;\r\n\tfor (int i = t.size() - 1; i > 0; i = i - 2) {\r\n\t\tif (t.get(i - 1).equals(\"-\")) {\r\n\t\t\ttemp += 0 - Integer.valueOf(t.get(i));\r\n\t\t} else {\r\n\t\t\ttemp += Integer.valueOf(t.get(i));\r\n\t\t}\r\n\t}\r\n\ttemp += Integer.valueOf(t.get(0));\r\n \r\n\treturn temp;\r\n    }\r\n}","compare_result":null,"title_slug":"basic-calculator","has_notes":false,"flag_type":1}