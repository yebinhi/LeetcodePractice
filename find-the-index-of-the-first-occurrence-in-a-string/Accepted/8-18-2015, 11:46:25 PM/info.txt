{"id":36789157,"question_id":28,"lang":"java","lang_name":"Java","time":"8 years, 8 months","timestamp":1439937985,"status":10,"status_display":"Accepted","runtime":"300 ms","url":"/submissions/detail/36789157/","is_pending":"Not Pending","title":"Find the Index of the First Occurrence in a String","memory":"N/A","code":"public class Solution {\r\n    public int strStr(String haystack, String needle) {\r\n        if(haystack == null || needle == null){\r\n            return 0;\r\n        }\r\n        int h = haystack.length();\r\n        int n = needle.length();\r\n        if(h<n){\r\n            return -1;\r\n        }\r\n        if(n == 0){\r\n            return 0;\r\n        }\r\n        int i =0;\r\n        int next[] = generateNext(needle);\r\n        while(i<= h-n){\r\n            int success=1;\r\n            for(int j =0; j < n; j++){\r\n                if(needle.charAt(0) != haystack.charAt(i)){\r\n                    success =0;\r\n                    i++;\r\n                    break;\r\n                }else if(needle.charAt(j) != haystack.charAt(i+j)){\r\n                    success =0;\r\n                    i=i+j-next[j-1];\r\n                    break;\r\n                }\r\n            }\r\n            \r\n            if(success == 1){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n        \r\n        \r\n    }\r\n    \r\n    private int[] generateNext(String needle){\r\n        int len = needle.length();\r\n        int next[] = new int[len];\r\n        next[0]=0;\r\n        int j=0;\r\n        for(int i =1; i<len; i++){\r\n            if(needle.charAt(j) == needle.charAt(i)){\r\n                next[i]=next[i-1]+1;\r\n                j++;\r\n            }else{\r\n                next[i]=0;\r\n                j=0;\r\n            }\r\n        }\r\n        return next;\r\n    }\r\n}","compare_result":null,"title_slug":"find-the-index-of-the-first-occurrence-in-a-string","has_notes":false,"flag_type":1}